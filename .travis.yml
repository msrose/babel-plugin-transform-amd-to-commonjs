language: node_js
node_js:
  - "6"
  - "8"
  - "10"
before_install:
  - npm install -g greenkeeper-lockfile@1
before_script: greenkeeper-lockfile-update
matrix:
  include:
    - node_js: "10"
      env: HOUSEKEEP=1
script:
  - "[[ -n $HOUSEKEEP ]] && npm run lint"
  - npm test -- --coverage
  - "[[ -n $HOUSEKEEP ]] && npm run build"
after_script: "[[ -n $HOUSEKEEP ]] && greenkeeper-lockfile-upload"
after_success:
  - "[[ -n $HOUSEKEEP ]] && bash <(curl -s https://codecov.io/bash)"
